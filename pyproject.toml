[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[project]
name = "param"
dynamic = ["version"]
description = "Make your Python code clearer and more reliable by declaring Parameters."
readme = "README.md"
license = { file = "LICENSE.txt" }
requires-python = ">=3.7"
authors = [
    { name = "HoloViz", email = "developers@holoviz.org" },
]
maintainers = [
    { name = "HoloViz", email = "developers@holoviz.org" },
]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: BSD License",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Topic :: Scientific/Engineering",
    "Topic :: Software Development :: Libraries",
]
dependencies = []

[project.optional-dependencies]
all = [
    "aiohttp",
    "coverage",
    "flake8",
    "graphviz",
    "ipython !=8.7.0",
    "myst-parser",
    "myst_nb ==0.12.2",
    "nbconvert",
    "nbsite ==0.8.0rc2",
    "pandas",
    "panel",
    "pydata-sphinx-theme <0.9.0",
    # "pygraphviz",
    "pytest",
    "sphinx-copybutton",
]
doc = [
    "aiohttp",
    "graphviz",
    "ipython !=8.7.0",
    "myst-parser",
    "myst_nb ==0.12.2",
    "nbconvert",
    "nbsite ==0.8.0rc2",
    "pandas",
    "panel",
    "pydata-sphinx-theme <0.9.0",
    # "pygraphviz",
    "sphinx-copybutton",
]
tests = [
    "coverage",
    "flake8",
    "pytest",
]

[project.urls]
"Bug Tracker" = "https://github.com/holoviz/param/issues"
Documentation = "https://param.holoviz.org/"
Homepage = "http://param.holoviz.org/"
"Panel Examples" = "https://panel.holoviz.org/user_guide/Param.html"
Releases = "https://github.com/holoviz/param/releases"
"Source Code" = "https://github.com/holoviz/param"

[tool.hatch.version]
source = "vcs"

[tool.hatch.build.targets.wheel]
include = [
    "param",
    "numbergen",
]

[tool.hatch.build.targets.sdist]
include = [
    "param",
    "numbergen",
    "tests"
]

[tool.hatch.envs.docs]
features = ["doc"]

[tool.hatch.envs.docs.scripts]
build = [
    "cp examples/user_guide/*.ipynb doc/user_guide/",
    "python -m nbsite build --org holoviz --project-name param"
]

[[tool.hatch.envs.docs.matrix]]
python = ["3.8"]

[tool.flake8]
# TODO tests should not be excluded (one day...)
include = [
    "param",
    "numbergen"
]
exclude = [
    ".git",
    "__pycache__",
    ".tox",".eggs",
    "*.egg",
    "doc",
    "dist",
    "build",
    "_build",
    "tests",
    ".ipynb_checkpoints",
    "run_test.py"
]
ignore = [
    "E114",
    "E116",
    "E126",
    "E128",
    "E129",
    "E2",
    "E3",
    "E4",
    "E5",
    "E731",
    "E701",
    "E702",
    "E703",
    "E704",
    "E722",
    "E741",
    "E742",
    "E743",
    "W503",
    "W504"
]

[tool.pytest]
python_files = "test*.py"
